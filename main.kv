#: import SwapTransition kivy.uix.screenmanager.SwapTransition

<Dynamic_card>:
    size_hint: 1,.5
    pos_hint:{'top':.85,'left':.5}
    
    canvas.before:
        Color:
            rgba: .5, .5, .5, 1
        Line:
            width: 2
            rectangle: self.x, self.y, self.width, self.height
        # Color:
        #     rgba: 1, .75, 0, 1
        # RoundedRectangle:
        #     radius: [40,40,40,40]
        #     pos: self.x, self.y 
        #     size:self.width, self.height    
            
    MDTextField:
        pos_hint:{'top':1,'right':.75}
        size_hint: .65,None
        hint_text: "Title"
        icon_right: "file-edit"
        icon_right_color: app.theme_cls.primary_color
        color_mode: 'custom'
        line_color_focus: 0, 0, 0, 1
    IconRightWidget:
        icon: "file-edit" 
        pos_hint:{'top':1,'right':1} 
    IconRightWidget:
        icon: "trash-can" 
        pos_hint:{'top':1,'right':.9} 
        
    ScrollView:
        pos_hint:{'top':.8,'right':1}
        size_hint: 1,.78     
        MDTextField:
            color_mode: 'custom'
            size_hint: .65,None
            line_color_focus: 0, 0, 0, 1
            hint_text: "Body"
            multiline: True 

<calling_functions>:
    screen_manager:screen_manager
   
        
    NavigationLayout:
        
        ScreenManager:
            id:screen_manager
            transition: SwapTransition()
#HOMESCREEN STARTS HERE           
            MDScreen:
                name:"homescreen"
                MDFloatLayout:
                    orientation:"vertical"
                    size_hint: 1,.8
                    pos_hint:{'top':.8}
                    ScrollView:
                        pos_hint:{'top':1}
                        
                        MDList:
                            padding:(0,10,0,0)
                            id: sl_home


                MDToolbar:
                    visible: True
                    id: toolbar_home_screen
                    title:"ToDo List"
                    pos_hint: {'top':1,'bottom':0}
                    radius: [0, 0, 0, 0]
                    md_bg_color: app.theme_cls.primary_color
                    #right_action_items: [["plus-circle", lambda x: root.change_screen()]]
        
                    MDIconButton:
                        icon: "plus-circle" 
                        pos_hint: {'center_y':.5}
                        user_font_size: "32sp"
                        on_release:
                            root.create_task()
               


                    
                    
#HOMESCREEN ENDS HERE

#NEW TASK SCREEN STARTS HERE            
            MDScreen:
                name: "new_task"
                MDToolbar:
                    visible: True
                    id: toolbar_home_screen
                    title: "Title"
                    pos_hint:{'top':1}
                    radius: [0, 0, 0, 0]
                    md_bg_color: app.theme_cls.primary_color
                    #right_action_items: [["arrow-left-circle", lambda x: root.change_screen()]]
                    user_font_size: "64sp"
                    MDIconButton:
                        icon: "arrow-left-circle" 
                        pos_hint: {'center_y':.5}
                        user_font_size: "32sp"
                        on_release:
                            root.change_screen()
                
                    
                MDFloatLayout:
                    oreintation:"vertical"
                    pos_hint: {'top':.9}
                    size_hint: 1,.8
                    MDFloatingActionButton:
                        pos_hint: {'top':.1,'right':.95}
                        icon: "content-save-all"
                        md_bg_color: app.theme_cls.primary_color
                        elevation: 10
                        on_release:
                            root.create_task()
                    MDTextField:
                        id: txt_create_title
                        hint_text: "Title"
                        pos_hint: {'top':1}
                    MDSeparator:
                        height: "1dp"
                    ScrollView:
                        pos_hint: {'top':.88}
                        MDTextField:
                            id: txt_create_body
                            word_wrap: True
                            multiline: True    
                            hint_text: "Text"
                            # pos_hint: {'top':.8}    